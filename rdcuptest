from appium import webdriver
#from selenium.webdriver.common.keys import Keys
#from selenium.webdriver.common.desired_capabilities import DesiredCapabilities
#from sauceclient import SauceClient
import os

# Retrieving environment variables
SAUCE_USERNAME = os.environ.get('SAUCE_USERNAME')
SAUCE_ACCESS_KEY = os.environ.get('SAUCE_ACCESS_KEY')

#sauce_client = SauceClient(SAUCE_USERNAME,SAUCE_ACCESS_KEY)

caps = {
  'browserName': 'Chrome',
  'platformVersion': '10',
  'platformName': 'Android',
  'name': 'Jenkins Test'
}

myUrl = 'https://' + SAUCE_USERNAME + ':' + SAUCE_ACCESS_KEY + '@ondemand.us-west-1.saucelabs.com:443/wd/hub';
driver = webdriver.Remote (
	command_executor=myUrl,desired_capabilities=caps)

driver.get("https://www.google.com")

print "SauceOnDemandSessionID=" + driver.session_id + " job-name=GoogleTest"

#driver.execute_script("sauce:job-result=passed")

driver.quit()
#sauce_client.jobs.update_job(driver.session_id, passed=True)
